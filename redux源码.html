<!DOCTYPE html>
<!-- saved from url=(0109)http://interview.poetries.top/principle-docs/react/06-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html -->
<html lang="en-US" class=" "><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    
    <title>ä¸€ã€index.js | é¢è¯•æŒ‡å—</title>
    
    <link rel="icon" href="./reduxæºç _files/logo.png">
    <link rel="manifest" href="http://interview.poetries.top/manifest.json">
    <link rel="apple-touch-icon" href="http://interview.poetries.top/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="http://interview.poetries.top/icons/safari-pinned-tab.svg" color="#3eaf7c">
    
    
    
    
    
    
    
    <link rel="preload" href="./reduxæºç _files/0.styles.a3a6df6c.css" as="style"><link rel="preload" href="./reduxæºç _files/app.25cf4eee.js.ä¸‹è½½" as="script"><link rel="preload" href="./reduxæºç _files/5.bc663a4c.js.ä¸‹è½½" as="script"><link rel="preload" href="./reduxæºç _files/4.1aaf03c6.js.ä¸‹è½½" as="script"><link rel="preload" href="./reduxæºç _files/12.ac0bc851.js.ä¸‹è½½" as="script"><link rel="preload" href="./reduxæºç _files/11.3e5297f1.js.ä¸‹è½½" as="script"><link rel="prefetch" href="./reduxæºç _files/1.d83c2af0.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/10.fdecf69b.js"><link rel="prefetch" href="./reduxæºç _files/100.df83f687.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/101.3986f029.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/102.1468be32.js"><link rel="prefetch" href="./reduxæºç _files/103.bfef2896.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/104.1731bbb1.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/105.710b118c.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/106.b955d37d.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/107.6f79a916.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/108.34ee5a8e.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/109.f6c05e4d.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/110.a375ddec.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/111.bcc5c187.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/112.afcfef56.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/113.2e7c6e37.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/114.9cfdb334.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/115.063815ec.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/116.4e29ee01.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/117.b106fd0d.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/118.e4e784f7.js"><link rel="prefetch" href="./reduxæºç _files/119.94fe014a.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/13.57028e74.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/14.043c3e8a.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/15.a6d0032e.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/16.6094fda8.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/17.f17aa05b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/18.9732bfb3.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/19.2c38a6bb.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/20.92742304.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/21.28c8a661.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/22.3222a772.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/23.8192ecea.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/24.b5156b88.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/25.034d5e81.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/26.c78d8f63.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/27.cd94c89c.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/28.b2c8e24c.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/29.e9a30c2c.js"><link rel="prefetch" href="./reduxæºç _files/3.f5ea6e07.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/30.2bd67425.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/31.6333035e.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/32.1a34dfa0.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/33.b5863ac0.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/34.cababd6c.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/35.0b09d4a2.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/36.8f89ed73.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/37.38d590c3.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/38.4799c402.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/39.c9d13f25.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/40.21e1dcb8.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/41.16e0641a.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/42.9ce6fd83.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/43.8936e729.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/44.5ebdd233.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/45.ce59a54c.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/46.b6f1380b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/47.5fe8aac4.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/48.a31741eb.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/49.16132e72.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/50.ca74d5c9.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/51.f21f79ee.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/52.6ff2b7c5.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/53.003482ca.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/54.136b1210.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/55.5d00c7ca.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/56.e5b5668d.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/57.9275f210.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/58.dcf3e81b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/59.5cbf4407.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/6.f2ac32df.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/60.ecfb5f55.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/61.8356d65b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/62.8ca03065.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/63.a0c06a04.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/64.406f4c0f.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/65.9d0c9d57.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/66.ca2ccee4.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/67.b01df864.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/68.e99acf6a.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/69.f7dbb3b1.js"><link rel="prefetch" href="./reduxæºç _files/7.26b183c1.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/70.b3199540.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/71.d7c346c6.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/72.6afb9cd3.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/73.80370c6b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/74.eec2a38b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/75.fdbda41f.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/76.c8a9acd3.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/77.02560728.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/78.f3bcf134.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/79.01333f71.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/8.b6777e86.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/80.a7dfb481.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/81.29a3aa15.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/82.9039f284.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/83.e29f794c.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/84.9aea4d6e.js"><link rel="prefetch" href="./reduxæºç _files/85.6fa07b30.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/86.b0a530f1.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/87.a2c892ff.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/88.2c0ab353.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/89.0a6986cd.js"><link rel="prefetch" href="./reduxæºç _files/9.7231fa75.js.ä¸‹è½½"><link rel="prefetch" href="http://interview.poetries.top/assets/js/90.80c04201.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/91.19846beb.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/92.09ef3493.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/93.8bad40d8.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/94.f0810e7b.js"><link rel="prefetch" href="http://interview.poetries.top/assets/js/95.3a648c4f.js"><link rel="prefetch" href="./reduxæºç _files/96.827e7cb2.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/97.cc180b8f.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/98.d2138442.js.ä¸‹è½½"><link rel="prefetch" href="./reduxæºç _files/99.7e99e846.js.ä¸‹è½½">
    <link rel="stylesheet" href="./reduxæºç _files/0.styles.a3a6df6c.css">
  <style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style>
  <meta name="description" content="å‰ç«¯é¢è¯•æŒ‡å—ï¼Œå‰ç«¯é¢è¯•é¢˜æ•´ç†ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»æ•´ç†æ€»ç»“ï¼Œæ‰“é€ æœ€å…¨é¢çš„å‰ç«¯é¢è¯•é¢˜"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png"><meta name="msapplication-TileColor" content="#000000"></head>
  <body class="">
    <div id="app"><div class="theme-container"><header class="navbar" style="background: rgb(255, 255, 255);"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="http://interview.poetries.top/" class="home-link router-link-active"><img src="./åŸç†_files/logo.png" alt="é¢è¯•æŒ‡å—" class="logo"> <span class="site-name can-hide">é¢è¯•æŒ‡å—</span></a> <div class="links" style="background: rgb(255, 255, 255); max-width: 1771px;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value="" class="" placeholder=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div><a href="./index.html" class="nav-link">åŸºç¡€
    </a></div></div><div class="nav-item"><div><a href="./è¿›é˜¶.html" class="nav-link">âœ¨è¿›é˜¶
    </a></div></div><div class="nav-item"><div><a href="./ç²¾é€‰.html" class="nav-link">ğŸ‘ç²¾é€‰
    </a></div></div><div class="nav-item"><div><a href="./é«˜é¢‘.html" class="nav-link">ğŸ”¥é«˜é¢‘
    </a></div></div><div class="nav-item"><div><a href="./æŒ‡å—.html" class="nav-link">æŒ‡å—
    </a></div></div><div class="nav-item"><div><a href="./æ€§èƒ½.html" class="nav-link">æ€§èƒ½
    </a></div></div><div class="nav-item"><div><a href="./ç»¼åˆ.html" class="nav-link">ç»¼åˆ
    </a></div></div><div class="nav-item"><div><a href="./vue.html" class="nav-link">åŸç†
    </a></div></div><div class="nav-item"><div><a href="./æ‰‹å†™.html" class="nav-link">æ‰‹å†™
    </a></div></div><div class="nav-item"><div><a href="./è‡ªæ£€.html" class="nav-link">è‡ªæ£€
    </a></div></div><div class="nav-item"><div><a href="./é¢ç».html" class="nav-link">â­é¢ç»
    </a></div></div><div class="nav-item"><div><a href="./æ¯æ—¥ä¸€é¢˜.html" class="nav-link">ğŸ’¥æ¯æ—¥ä¸€é¢˜
    </a></div></div><div class="nav-item"><div><a href="./è®¾è®¡æ¨¡å¼.html" class="nav-link">è®¾è®¡æ¨¡å¼
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/algorithm-interview/note/01-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E2%80%94%E2%80%94%E4%BB%8E0%E5%88%B01%E6%8E%8C%E6%8F%A1%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88%E4%B8%80%EF%BC%89.html" class="nav-link">
  </a></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ‹“å±•é˜…è¯»" class="dropdown-title"><span class="title">æ‹“å±•é˜…è¯»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display: none;"><li class="dropdown-item"><h4>ä¸“é¢˜</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-base-docs/compute-docs/Linux.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-mobile-docs/h5-docs/1-%E5%A4%A7%E5%8E%82%20H5%20%E5%BC%80%E5%8F%91%E6%A6%82%E8%BF%B0.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-css-inspiration-docs/css-docs/note/01-%E6%B5%8F%E8%A7%88%E5%99%A8.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-vue-docs/learn-vue-base/base/1-Vue%20CLI%203%20%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%9F%BA%E7%A1%80.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-react-docs/react-web-action/01-%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E5%9B%9B%E4%B8%AA%E6%97%B6%E4%BB%A3.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-micro-docs/docs/01-%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%84%E8%AF%9E%E7%94%9F.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-engineering-docs/docs/npm-script.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-nodejs-docs/nodejs-docs/base/01-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-ts-axios-docs/ts-axios/chapter1/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-algorithm-docs/algorithm/prepare/01-%E5%A6%82%E4%BD%95%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%95%88%E5%9C%B0%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="https://blog.poetries.top/browser-working-principle/guide/part1/lesson01.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      æµè§ˆå™¨åŸç†
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="https://blog.poetries.top/http-protocol/notes/base/01-HTTP%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      HTTPåŸºç¡€
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/webpack.html" class="nav-link">webpack
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/npm-script.html" class="nav-link">npmå·¥ä½œæµ
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/canvas.html" class="nav-link">Canvas
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/Taro.html" class="nav-link">TaroåŸç†
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-nodejs-docs/nodejs-docs/base/01-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      Nodeå­¦ä¹ æŒ‡å—
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-vue-docs/vue-analysis/prepare/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      Vueæºç åˆ†æ
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-blog-docs/blog-docs/javascript/-Ajax%E6%80%BB%E7%BB%93%E7%AF%87.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      æ—¥å¸¸ç§¯ç´¯
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://blog.poetries.top/archives/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      åšæ–‡
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="background: rgb(255, 255, 255);"><nav class="nav-links"><div class="nav-item"><div><a href="http://interview.poetries.top/docs/base.html" class="nav-link">åŸºç¡€
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/simply.html" class="nav-link">âœ¨è¿›é˜¶
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html" class="nav-link">ğŸ‘ç²¾é€‰
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/excellent.html" class="nav-link">ğŸ”¥é«˜é¢‘
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/guide.html" class="nav-link">æŒ‡å—
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/performance.html" class="nav-link">æ€§èƒ½
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/detail-expain.html" class="nav-link">ç»¼åˆ
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/principle-docs/comprehensive/01-%E8%99%9A%E6%8B%9FDOM%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" class="nav-link">åŸç†
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/handwritten.html" class="nav-link">æ‰‹å†™
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/qa/1-%E5%89%8D%E7%AB%AF100%E9%A2%98%E8%87%AA%E6%A3%80.html" class="nav-link">è‡ªæ£€
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/interview-exp/%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%BB%8F%E6%B1%87%E6%80%BB.html" class="nav-link">â­é¢ç»
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/days/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98.html" class="nav-link">ğŸ’¥æ¯æ—¥ä¸€é¢˜
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/docs/design-pattern.html" class="nav-link">è®¾è®¡æ¨¡å¼
  </a></div></div><div class="nav-item"><div><a href="http://interview.poetries.top/algorithm-interview/note/01-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E2%80%94%E2%80%94%E4%BB%8E0%E5%88%B01%E6%8E%8C%E6%8F%A1%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88%E4%B8%80%EF%BC%89.html" class="nav-link">
  </a></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ‹“å±•é˜…è¯»" class="dropdown-title"><span class="title">æ‹“å±•é˜…è¯»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display: none;"><li class="dropdown-item"><h4>ä¸“é¢˜</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-base-docs/compute-docs/Linux.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-mobile-docs/h5-docs/1-%E5%A4%A7%E5%8E%82%20H5%20%E5%BC%80%E5%8F%91%E6%A6%82%E8%BF%B0.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-css-inspiration-docs/css-docs/note/01-%E6%B5%8F%E8%A7%88%E5%99%A8.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-vue-docs/learn-vue-base/base/1-Vue%20CLI%203%20%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%9F%BA%E7%A1%80.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-react-docs/react-web-action/01-%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E5%9B%9B%E4%B8%AA%E6%97%B6%E4%BB%A3.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-micro-docs/docs/01-%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%84%E8%AF%9E%E7%94%9F.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-engineering-docs/docs/npm-script.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-nodejs-docs/nodejs-docs/base/01-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-ts-axios-docs/ts-axios/chapter1/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-algorithm-docs/algorithm/prepare/01-%E5%A6%82%E4%BD%95%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%95%88%E5%9C%B0%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><!----></a></div></li><li class="dropdown-subitem"><div><a href="https://blog.poetries.top/browser-working-principle/guide/part1/lesson01.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      æµè§ˆå™¨åŸç†
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="https://blog.poetries.top/http-protocol/notes/base/01-HTTP%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      HTTPåŸºç¡€
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/webpack.html" class="nav-link">webpack
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/npm-script.html" class="nav-link">npmå·¥ä½œæµ
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/canvas.html" class="nav-link">Canvas
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/docs/Taro.html" class="nav-link">TaroåŸç†
  </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-nodejs-docs/nodejs-docs/base/01-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      Nodeå­¦ä¹ æŒ‡å—
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-vue-docs/vue-analysis/prepare/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      Vueæºç åˆ†æ
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-blog-docs/blog-docs/javascript/-Ajax%E6%80%BB%E7%BB%93%E7%AF%87.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      æ—¥å¸¸ç§¯ç´¯
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://blog.poetries.top/archives/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
      åšæ–‡
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li></ul></li></ul></div></div> <!----></nav> <div style="padding-left:1.5rem;"><div class="qr"><img src="./reduxæºç _files/qr.ee193d28.jpg" alt="poetries" width="120" height="120" loading="lazy"> <p class="we-intro">
    å…³æ³¨å…¬ä¼—å·ï¼Œè·å–æ›´å¤šèµ„è®¯
  </p></div></div> 
  <ul class="sidebar-links"><li><section class="sidebar-group depth-0">
    <p class="sidebar-heading"><span>Vue</span> <!----></p> 
    <ul class="sidebar-links sidebar-group-items"><li>
      <a href="./vue.html" class="sidebar-link">ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ</a></li>
      <li><a href="./ç»„ä»¶çš„æœ¬è´¨.html" class="sidebar-link">ç»„ä»¶çš„æœ¬è´¨</a></li>
      <li><a href="./ç»„ä»¶è®¾è®¡.html" class="sidebar-link">æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡</a></li>
      <li><a href="./è®¾è®¡vnode.html" class="sidebar-link">è®¾è®¡ VNode</a></li>
      <li><a href="./vnodeçš„hå‡½æ•°.html" class="sidebar-link">è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°</a></li>
      <li><a href="./è‡ªå®šä¹‰æ¸²æŸ“.html" class="sidebar-link">è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“</a></li>
      <li><a href="./æ¸²æŸ“å™¨çš„æŒ‚è½½.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹æŒ‚è½½</a></li>
      <li><a href="./æ¸²æŸ“diff.html" class="sidebar-link">æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•</a></li>
      <li><a href="./æ¸²æŸ“å™¨patch.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹patch</a></li>
      <li><a href="./vueå“åº”å¼.html" class="sidebar-link">å›¾è§£ Vue å“åº”å¼åŸç†</a></li>
      <li><a href="./vueå¼‚æ­¥æ›´æ–°.html" class="sidebar-link">å›¾è§£ Vue å¼‚æ­¥æ›´æ–°</a></li>
      <li><a href="./vueè¿è¡Œæœºåˆ¶.html" class="sidebar-link">å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶</a></li>
      <li><a href="./æ¨¡æ‹Ÿå“åº”å¼.html" class="sidebar-link">vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ</a></li>
      <li><a href="./vuex.html" class="sidebar-link">vueçŠ¶æ€ç®¡ç†ä¹‹vuex</a></li>
    </ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> 
      <ul class="sidebar-links sidebar-group-items">
        <li><a href="./react.html" class="sidebar-link">React</a></li>
        <li><a href="./dva.html" class="sidebar-link">Dvaæ€»ç»“</a></li>
        <li><a href="./MobX.html" class="sidebar-link">MobXæ€»ç»“</a></li>
        <li><a href="./redux.html" class="sidebar-link">æµ…æredux</a></li>
        <li><a href="./reduxä¸­é—´ä»¶.html" class="sidebar-link">Reduxä¹‹æµ…æä¸­é—´ä»¶</a></li>
        <li><a href="./reduxæºç .html" class="sidebar-link">Reduxä¹‹æºç åˆ†æ</a></li>
        <li><a href="./reduxå¼‚æ­¥action.html" class="sidebar-link">Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ</a></li>
      </ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> 
        <ul class="sidebar-links sidebar-group-items">
          <li><a href="./webpackæ‰“åŒ…åŸç†.html" class="sidebar-link">Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ</a></li>
          <li><a href="./çƒ­æ›´æ–°.html" class="sidebar-link">webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ</a></li>
          <li><a href="./webpack4åŸç†.html" class="sidebar-link">ä»æºç çª¥æ¢Webpack4.xåŸç†</a></li>
          <li><a href="./å®ç°webpackæ‰“åŒ….html" class="sidebar-link">å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·</a></li>
          <li><a href="./babelåŸç†.html" class="sidebar-link">BabelåŸç†åŠå…¶ä½¿ç”¨</a></li>
        </ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ç»¼åˆ</span> <!----></p>
           <ul class="sidebar-links sidebar-group-items">
             <li><a href="./è™šæ‹ŸdomåŸç†.html" class="active sidebar-link">è™šæ‹ŸDOMåŸç†åˆ†æ</a></li>
             <li><a href="./settimeoutæŒ‡å—.html" class="active sidebar-link">setTimeout</a></li>
             <li class="sidebar-sub-header"><a href="./promise.html" class="sidebar-link">æµ…æPromiseåŸç†</a></li>
        <a href="./æµè§ˆå™¨å¦‚ä½•æ¸²æŸ“.html" class="sidebar-link">æµè§ˆå™¨æ¸²æŸ“åŸç†</a></li>
        <li><a href="./mvvm.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ</a></li>
        <li><a href="./ç»„ä»¶åŒ–.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–</a></li>
        <li><a href="./è™šæ‹Ÿdom1.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆä¸€ï¼‰</a></li>
        <li><a href="./è™šæ‹Ÿdom2.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆäºŒï¼‰</a></li>
        <li><a href="./performance.html" class="sidebar-link">å‰ç«¯æ€§èƒ½ä¹‹Performance</a></li>
      </ul></section></li></ul> 
 </aside> <main class="page"> <div id="container" class="theme-default-content pay-content"><div class="content__default"><h2 id="ä¸€ã€index-js"><a href="http://interview.poetries.top/principle-docs/react/06-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html#%E4%B8%80%E3%80%81index-js" class="header-anchor">#</a> ä¸€ã€index.js</h2> <blockquote><p>https://github.com/reactjs/redux/blob/master/src/index.js</p></blockquote> <ul><li>æš´éœ²äº†å‡ ä¸ªæ ¸å¿ƒ<code>API</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>import createStore from './createStore';
import combineReducers from './utils/combineReducers';
import bindActionCreators from './utils/bindActionCreators';
import applyMiddleware from './utils/applyMiddleware';
import compose from './utils/compose';

export {
  createStore,
  combineReducers,
  bindActionCreators,
  applyMiddleware,
  compose
};
</code></pre></div><h2 id="äºŒã€createstore-js"><a href="http://interview.poetries.top/principle-docs/react/06-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html#%E4%BA%8C%E3%80%81createstore-js" class="header-anchor">#</a> äºŒã€createStore.js</h2> <blockquote><p>https://github.com/reactjs/redux/blob/master/src/createStore.js</p></blockquote> <ul><li><code>redux.createStore(reducer, initialState)</code> ä¼ å…¥äº†<code>reducer</code>ã€<code>initialState</code>ï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>store</code>å¯¹è±¡</li> <li><code>store</code>å¯¹è±¡å¯¹å¤–æš´éœ²äº†<code>dispatch</code>ã€<code>getStat</code>eã€<code>subscribe</code>æ–¹æ³•</li> <li><code>store</code>å¯¹è±¡é€šè¿‡<code>getState()</code> è·å–å†…éƒ¨çŠ¶æ€</li> <li><code>initialState</code>ä¸º <code>store</code> çš„åˆå§‹çŠ¶æ€ï¼Œå¦‚æœä¸ä¼ åˆ™ä¸ºundefined</li> <li><code>store</code>å¯¹è±¡é€šè¿‡<code>reducer</code>æ¥ä¿®æ”¹å†…éƒ¨çŠ¶æ€</li> <li><code>store</code>å¯¹è±¡åˆ›å»ºçš„æ—¶å€™ï¼Œå†…éƒ¨ä¼šä¸»åŠ¨è°ƒç”¨<code>dispatch({ type: ActionTypes.INIT })</code>;æ¥å¯¹å†…éƒ¨çŠ¶æ€è¿›è¡Œåˆå§‹åŒ–ã€‚é€šè¿‡æ–­ç‚¹æˆ–è€…æ—¥å¿—æ‰“å°å°±å¯ä»¥çœ‹åˆ°ï¼Œ<code>store</code>å¯¹è±¡åˆ›å»ºçš„åŒæ—¶ï¼Œ<code>reducer</code>å°±ä¼šè¢«è°ƒç”¨è¿›è¡Œåˆå§‹åŒ–</li></ul> <div class="language- extra-class"><pre class="language-text"><code>import isPlainObject from './utils/isPlainObject';

/**
 * These are private action types reserved by Redux.
 * For any unknown actions, you must return the current state.
 * If the current state is undefined, you must return the initial state.
 * Do not reference these action types directly in your code.
 */
// åˆå§‹åŒ–çš„æ—¶å€™(redux.createStore(reducer, initialState)æ—¶),ä¼ çš„action.type å°±æ˜¯è¿™è´§å•¦
export var ActionTypes = {
  INIT: '@@redux/INIT'
};

/**
 * Creates a Redux store that holds the state tree.
 * The only way to change the data in the store is to call `dispatch()` on it.
 *
 * There should only be a single store in your app. To specify how different
 * parts of the state tree respond to actions, you may combine several reducers
 * into a single reducer function by using `combineReducers`.
 *
 * @param {Function} reducer A function that returns the next state tree, given
 * the current state tree and the action to handle.
 *
 * @param {any} [initialState] The initial state. You may optionally specify it
 * to hydrate the state from the server in universal apps, or to restore a
 * previously serialized user session.
 * If you use `combineReducers` to produce the root reducer function, this must be
 * an object with the same shape as `combineReducers` keys.
 *
 * @returns {Store} A Redux store that lets you read the state, dispatch actions
 * and subscribe to changes.
 */
export default function createStore(reducer, initialState) {
  if (typeof reducer !== 'function') {
    throw new Error('Expected the reducer to be a function.');
  }

  var currentReducer = reducer;
  var currentState = initialState;
  var listeners = [];
  var isDispatching = false;

  /**
   * Reads the state tree managed by the store.
   *
   * @returns {any} The current state tree of your application.
   */
  // è¿™ä¸ªæ–¹æ³•æ²¡ä»€ä¹ˆå¥½è®²çš„,è¿”å›å½“å‰çš„state
  function getState() {
    return currentState;
  }

  /**
   * Adds a change listener. It will be called any time an action is dispatched,
   * and some part of the state tree may potentially have changed. You may then
   * call `getState()` to read the current state tree inside the callback.
   *
   * @param {Function} listener A callback to be invoked on every dispatch.
   * @returns {Function} A function to remove this change listener.
   */
  // å¾ˆå¸¸è§çš„ç›‘å¬å‡½æ•°æ·»åŠ æ–¹å¼,å½“store.dispatch çš„æ—¶å€™è¢«è°ƒç”¨
  // store.subscribe(listener) è¿”å›ä¸€ä¸ªæ–¹æ³•(unscribe),å¯ä»¥ç”¨æ¥å–æ¶ˆç›‘å¬
  function subscribe(listener) {
    listeners.push(listener);
    var isSubscribed = true;

    return function unsubscribe() {
      if (!isSubscribed) {
        return;
      }

      isSubscribed = false;
      var index = listeners.indexOf(listener);
      listeners.splice(index, 1);
    };
  }

  /**
   * Dispatches an action. It is the only way to trigger a state change.
   *
   * The `reducer` function, used to create the store, will be called with the
   * current state tree and the given `action`. Its return value will
   * be considered the **next** state of the tree, and the change listeners
   * will be notified.
   *
   * The base implementation only supports plain object actions. If you want to
   * dispatch a Promise, an Observable, a thunk, or something else, you need to
   * wrap your store creating function into the corresponding middleware. For
   * example, see the documentation for the `redux-thunk` package. Even the
   * middleware will eventually dispatch plain object actions using this method.
   *
   * @param {Object} action A plain object representing â€œwhat changedâ€. It is
   * a good idea to keep actions serializable so you can record and replay user
   * sessions, or use the time travelling `redux-devtools`. An action must have
   * a `type` property which may not be `undefined`. It is a good idea to use
   * string constants for action types.
   *
   * @returns {Object} For convenience, the same action object you dispatched.
   *
   * Note that, if you use a custom middleware, it may wrap `dispatch()` to
   * return something else (for example, a Promise you can await).
   */
  // ä»¥ä¸‹æƒ…å†µä¼šæŠ¥é”™
  // 1. ä¼ å…¥çš„actionä¸æ˜¯ä¸€ä¸ªå¯¹è±¡
  // 2. ä¼ å…¥çš„actionæ˜¯ä¸ªå¯¹è±¡,ä½†æ˜¯action.type æ˜¯undefined
  function dispatch(action) {
    if (!isPlainObject(action)) {
      throw new Error(
        'Actions must be plain objects. ' +
        'Use custom middleware for async actions.'
      );
    }

    if (typeof action.type === 'undefined') {
      throw new Error(
        'Actions may not have an undefined "type" property. ' +
        'Have you misspelled a constant?'
      );
    }

    if (isDispatching) {
      throw new Error('Reducers may not dispatch actions.');
    }

    try {
      isDispatching = true;
      // å°±æ˜¯è¿™ä¸€å¥å•¦, å°† currentState è®¾ç½®ä¸º reducer(currentState, action) è¿”å›çš„å€¼
      currentState = currentReducer(currentState, action);
    } finally {
      isDispatching = false;
    }

    // å¦‚æœæœ‰ç›‘å¬å‡½æ•°,å°±é¡ºåºè°ƒç”¨
    listeners.slice().forEach(listener =&gt; listener());

    // æœ€å,è¿”å›ä¼ å…¥çš„action
    return action;
  }

  /**
   * Replaces the reducer currently used by the store to calculate the state.
   *
   * You might need this if your app implements code splitting and you want to
   * load some of the reducers dynamically. You might also need this if you
   * implement a hot reloading mechanism for Redux.
   *
   * @param {Function} nextReducer The reducer for the store to use instead.
   * @returns {void}
   */
  function replaceReducer(nextReducer) {
    currentReducer = nextReducer;
    dispatch({ type: ActionTypes.INIT });
  }

  // When a store is created, an "INIT" action is dispatched so that every
  // reducer returns their initial state. This effectively populates
  // the initial state tree.
  //
  // redux.createStore(reducer, initialState) çš„æ—¶å€™, å†…éƒ¨ä¼š è‡ªå·±è°ƒç”¨ dispatch({ type: ActionTypes.INIT });
  // æ¥å®Œæˆstateçš„åˆå§‹åŒ–
  dispatch({ type: ActionTypes.INIT });

  // è¿”å›çš„å°±æ˜¯è¿™ä¸ªä¸œä¸œäº†,åªæœ‰å››ä¸ªæ–¹æ³•
  return {
    dispatch,
    subscribe,
    getState,
    replaceReducer
  };
}
</code></pre></div><h2 id="ä¸‰ã€combinereducers-js"><a href="http://interview.poetries.top/principle-docs/react/06-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html#%E4%B8%89%E3%80%81combinereducers-js" class="header-anchor">#</a> ä¸‰ã€combineReducers.js</h2> <blockquote><p>https://github.com/reactjs/redux/blob/master/src/combineReducers.js</p></blockquote> <ul><li><code>redux.combineReducers(reducerMap)</code> çš„ä½œç”¨åœ¨äºåˆå¹¶å¤šä¸ª<code>reducer</code>å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„<code>reducer</code>å‡½æ•°ã€‚å› æ­¤å¯ä»¥çœ‹åˆ°ï¼Œ<code>combineReducers</code> è¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è¯¥å‡½æ•°çš„å‚æ•°åŒæ ·æ˜¯<code>state</code>ã€<code>reducer</code></li> <li>æœ€ç»ˆ <code>store.getState()</code>è¿”å›çš„<code>state</code>ï¼Œå¤§æ¦‚ä¼šæ˜¯è¿™ä¹ˆä¸ªæ ·å­<code>{todos: xx, filter: xx}</code>ã€‚ç®€å•çš„è¯´ï¼Œ<code>state</code>è¢«æ‹†åˆ†æˆäº†ä¸¤ä»½ï¼Œ<code>TodoReducer</code>çš„è¿”å›å€¼èµ‹å€¼ç»™äº†<code>state.todos</code>ï¼Œ<code>FilterReducer</code>çš„è¿”å›å€¼èµ‹å€¼ç»™äº†<code>state.filter</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>function TodoReducer(state, action) {}
function FilterReducer(state, action) {}

var finalReducers = redux.combineReducers({
    todos: TodoReducer,
    filter: FilterReducer
});
</code></pre></div><ul><li><code>combineReducers(reducerMap)</code> ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªå…¨æ–°çš„<code>reducer</code>ã€‚è°ƒç”¨æ–¹å¼è·Ÿè·Ÿæ™®é€šçš„<code>reducer</code>ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¼ å…¥<code>state</code>ã€<code>action</code></li> <li>é€šè¿‡<code>combineReducers</code>ï¼Œå¯¹ <code>store</code> çš„çŠ¶æ€<code>state</code>è¿›è¡Œæ‹†åˆ†</li> <li><code>reducerMapçš„key</code>ï¼Œå°±æ˜¯ <code>state</code> çš„<code>key</code>ï¼Œè€Œ è°ƒç”¨å¯¹åº”çš„<code>reducer</code>è¿”å›çš„å€¼ï¼Œåˆ™æ˜¯è¿™ä¸ª<code>key</code>å¯¹åº”çš„å€¼ã€‚å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œ<code>state.todos == TodoReducer(state, action)</code></li> <li><code>redux.createStore(finalReducers, initialState)</code> è°ƒç”¨æ—¶ï¼ŒåŒæ ·ä¼šå¯¹ <code>state</code>è¿›è¡Œåˆå§‹åŒ–ã€‚è¿™ä¸ªåˆå§‹åŒ–è·Ÿé€šè¿‡æ™®é€šçš„<code>reducer</code>è¿›è¡Œåˆå§‹åŒ–æ²¡å¤šå¤§åŒºåˆ«ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœ <code>initialState.todos = undefined</code>ï¼Œé‚£ä¹ˆ <code>TodoReducer(state, action)</code>åˆå§‹ä¼ å…¥çš„<code>state</code>å°±æ˜¯<code>undefined</code>ï¼›å¦‚æœ<code>initialState.todos = []</code>ï¼Œé‚£ä¹ˆ <code>TodoReducer(state, action)</code>åˆå§‹ä¼ å…¥çš„<code>state</code>å°±æ˜¯<code>[]</code></li> <li><code>store.dispatch(action)</code>ï¼Œ<code>finalReducers</code> é‡Œé¢ï¼Œä¼šéå†æ•´ä¸ª<code>reducerMap</code>ï¼Œä¾æ¬¡è°ƒç”¨æ¯ä¸ª<code>reducer</code>ï¼Œå¹¶å°†æ¯ä¸ª<code>reducer</code>è¿”å›çš„å­<code>state</code>èµ‹ç»™<code>state</code>å¯¹åº”çš„<code>key</code>ã€‚</li></ul> <div class="language- extra-class"><pre class="language-text"><code>import { ActionTypes } from '../createStore';
import isPlainObject from '../utils/isPlainObject';
import mapValues from '../utils/mapValues';
import pick from '../utils/pick';

/* eslint-disable no-console */

function getUndefinedStateErrorMessage(key, action) {
  var actionType = action &amp;&amp; action.type;
  var actionName = actionType &amp;&amp; `"${actionType.toString()}"` || 'an action';

  return (
    `Reducer "${key}" returned undefined handling ${actionName}. ` +
    `To ignore an action, you must explicitly return the previous state.`
  );
}

function getUnexpectedStateKeyWarningMessage(inputState, outputState, action) {
  var reducerKeys = Object.keys(outputState);
  var argumentName = action &amp;&amp; action.type === ActionTypes.INIT ?
    'initialState argument passed to createStore' :
    'previous state received by the reducer';

  if (reducerKeys.length === 0) {
    return (
      'Store does not have a valid reducer. Make sure the argument passed ' +
      'to combineReducers is an object whose values are reducers.'
    );
  }

  if (!isPlainObject(inputState)) {
    return (
      `The ${argumentName} has unexpected type of "` +
      ({}).toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1] +
      `". Expected argument to be an object with the following ` +
      `keys: "${reducerKeys.join('", "')}"`
    );
  }

  var unexpectedKeys = Object.keys(inputState).filter(
    key =&gt; reducerKeys.indexOf(key) &lt; 0
  );

  if (unexpectedKeys.length &gt; 0) {
    return (
      `Unexpected ${unexpectedKeys.length &gt; 1 ? 'keys' : 'key'} ` +
      `"${unexpectedKeys.join('", "')}" found in ${argumentName}. ` +
      `Expected to find one of the known reducer keys instead: ` +
      `"${reducerKeys.join('", "')}". Unexpected keys will be ignored.`
    );
  }
}

// å¯¹reduceråšåˆæ³•æ€§æ£€æµ‹
// store = Redux.createStore(reducer, initialState) --&gt;
// currentState = initialState
// currentState = currentReducer(currentState, action);
//
// ä»è°ƒç”¨å…³ç³»,è°ƒç”¨æ—¶æœºæ¥çœ‹, store.getState() çš„åˆå§‹å€¼(currentState)
// ä¸º currentReducer(initialState, { type: ActionTypes.INIT })
//
// 1. åœ¨åˆå§‹åŒ–é˜¶æ®µ,reducer ä¼ å…¥çš„ state å€¼æ˜¯ undefined,æ­¤æ—¶,éœ€è¦è¿”å›åˆå§‹state,ä¸”åˆå§‹stateä¸èƒ½ä¸ºundefined
// 2. å½“ä¼ å…¥ä¸è®¤è¯†çš„ actionType æ—¶, reducer(state, {type}) è¿”å›çš„ä¸èƒ½æ˜¯undefined
// 3. redux/ è¿™ä¸ª namespace ä¸‹çš„action ä¸åº”è¯¥åšå¤„ç†,ç›´æ¥è¿”å› currentState å°±è¡Œ (è°è¿æ°”è¿™ä¹ˆå·®ä¼šå»ç”¨è¿™ç§actionType...)
function assertReducerSanity(reducers) {
  Object.keys(reducers).forEach(key =&gt; {
    var reducer = reducers[key];
    var initialState = reducer(undefined, { type: ActionTypes.INIT });

    if (typeof initialState === 'undefined') {
      throw new Error(
        `Reducer "${key}" returned undefined during initialization. ` +
        `If the state passed to the reducer is undefined, you must ` +
        `explicitly return the initial state. The initial state may ` +
        `not be undefined.`
      );
    }

    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');
    if (typeof reducer(undefined, { type }) === 'undefined') {
      throw new Error(
        `Reducer "${key}" returned undefined when probed with a random type. ` +
        `Don't try to handle ${ActionTypes.INIT} or other actions in "redux/*" ` +
        `namespace. They are considered private. Instead, you must return the ` +
        `current state for any unknown actions, unless it is undefined, ` +
        `in which case you must return the initial state, regardless of the ` +
        `action type. The initial state may not be undefined.`
      );
    }
  });
}

/**
 * Turns an object whose values are different reducer functions, into a single
 * reducer function. It will call every child reducer, and gather their results
 * into a single state object, whose keys correspond to the keys of the passed
 * reducer functions.
 *
 * @param {Object} reducers An object whose values correspond to different
 * reducer functions that need to be combined into one. One handy way to obtain
 * it is to use ES6 `import * as reducers` syntax. The reducers may never return
 * undefined for any action. Instead, they should return their initial state
 * if the state passed to them was undefined, and the current state for any
 * unrecognized action.
 *
 * @returns {Function} A reducer function that invokes every reducer inside the
 * passed object, and builds a state object with the same shape.
 */

export default function combineReducers(reducers) {
  // è¿”å›ä¸€ä¸ªå¯¹è±¡, key =&gt; value ä¸”valueæ˜¯function(å…¶å®å°±æ˜¯è¿‡æ»¤æ‰éfunction)
  var finalReducers = pick(reducers, (val) =&gt; typeof val === 'function');
  var sanityError;

  try {
    // å¯¹æ‰€æœ‰çš„å­reducer åšä¸€äº›åˆæ³•æ€§æ–­è¨€,å¦‚æœæ²¡æœ‰å‡ºé”™å†ç»§ç»­ä¸‹é¢çš„å¤„ç†
    // åˆæ³•æ€§æ–­è¨€çš„å†…å®¹,è§APIæ³¨é‡Š
    assertReducerSanity(finalReducers);
  } catch (e) {
    sanityError = e;
  }

  // æ‰€æœ‰çš„ key: value,å°†valueç½®æˆäº†undefined,è´¹è§£...
  // æ€»è€Œè¨€ä¹‹, åˆå§‹state å°±æ˜¯ ç±»ä¼¼ {hello: undefined, world: undefined} çš„ä¸œä¸œ
  // TODO ç¡®è®¤è¿™é‡Œçš„é€»è¾‘
  var defaultState = mapValues(finalReducers, () =&gt; undefined);

  return function combination(state = defaultState, action) {
    if (sanityError) {
      throw sanityError;
    }

    var hasChanged = false;
    // è¿™æ®µä»£ç ,ç®€å•çš„è¯´,å°±æ˜¯å¾ªç¯ä¸€é finalState[key] = fn(reducer, key)
    var finalState = mapValues(finalReducers, (reducer, key) =&gt; {
      var previousStateForKey = state[key];
      var nextStateForKey = reducer(previousStateForKey, action);
      if (typeof nextStateForKey === 'undefined') {
        // å…¶ä»–ä¸€ä¸ªreducerè¿”å›çš„æ˜¯undefined,äºæ˜¯æŒ‚å•¦...æŠ›å‡ºé”™è¯¯
        var errorMessage = getUndefinedStateErrorMessage(key, action);
        throw new Error(errorMessage);
      }
      // è¿™æ®µä»£ç æœ‰äº›è´¹è§£,ä»reduxçš„è®¾è®¡ç†å¿µä¸Šæ¥è®²,é™¤äº†ä¸è®¤è¯†çš„action type,å…¶ä»–æƒ…å†µéƒ½åº”è¯¥è¿”å›å…¨æ–°çš„state
      // ä¹Ÿå°±æ˜¯è¯´
      // 1. action type è®¤è¯†,è¿”å›æ–°çš„state,äºæ˜¯è¿™é‡Œ hasChanged ä¸º true
      // 2. action type ä¸è®¤è¯†,è¿”å›åŸæ¥çš„state,äºæ˜¯è¿™é‡Œ hasChanged ä¸º false
      // 3. ä¸ç®¡action type æ˜¯å¦è®¤è¯†, åœ¨åŸæ¥çš„stateä¸Šä¿®æ”¹,ä½†æ˜¯è¿”å›çš„æ˜¯ä¿®æ”¹åçš„state(æ²¡æœ‰è¿”å›æ‹·è´),é‚£ä¹ˆ,hasChangedè¿˜æ˜¯ä¸ºfalse
      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
      return nextStateForKey;
    });

    // å¼€å‘ç¯å¢ƒä¸­(äºæ˜¯è®°å¾—åœ¨ç”Ÿäº§ç¯å¢ƒå»æ‰)
    // åé¢å†ç ”ç©¶è¿™æ®µä»£ç ,æ¯•ç«Ÿä¸æ˜¯ä¸»çº¿è·¯...
    if (process.env.NODE_ENV !== 'production') {
      var warningMessage = getUnexpectedStateKeyWarningMessage(state, finalState, action);
      if (warningMessage) {
        console.error(warningMessage);
      }
    }

    return hasChanged ? finalState : state;
  };
}
</code></pre></div><h2 id="å››ã€bindactioncreator-js"><a href="http://interview.poetries.top/principle-docs/react/06-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html#%E5%9B%9B%E3%80%81bindactioncreator-js" class="header-anchor">#</a> å››ã€bindActionCreator.js</h2> <blockquote><p>https://github.com/reactjs/redux/blob/master/src/bindActionCreators.js</p></blockquote> <ul><li>å…ˆçœ‹ä¸ªç®€å•ä¾‹å­å¯èƒ½æ–¹ä¾¿ç†è§£ä¸€äº›</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var addTodo = function(text){
    return {
        type: 'add_todo',
        text: text
    };
};

var addTodos = function(){
    return {
        type: 'add_todos',
        items: Array.prototype.slice.call(arguments, 0)
    };
};

var reducer = function(state, action){
    switch (action.type) {
        case 'add_todo':
            return state.concat(action.text);
        case 'add_todos':
            return state.concat(action.items);
        default:
            return state;
    }
};


var store = redux.createStore(reducer, []);
// æ³¨æ„,å…³é”®ä»£ç åœ¨è¿™é‡Œ
var actions = redux.bindActionCreators({
    addTodo: addTodo,
    addTodos: addTodos
}, store.dispatch);

console.log('state is: ' + store.getState());

store.dispatch({type: 'add_todo', text: 'è¯»ä¹¦'});
store.dispatch({type: 'add_todos', items: ['é˜…è¯»', 'ç¡è§‰']});
console.log('state is: ' + store.getState());  // state is: è¯»ä¹¦,é˜…è¯»,ç¡è§‰

actions.addTodo('çœ‹ç”µå½±');
console.log('state is: ' + store.getState());  // state is: è¯»ä¹¦,é˜…è¯»,ç¡è§‰,çœ‹ç”µå½±

actions.addTodos(['åˆ·ç‰™', 'æ´—æ¾¡']);
console.log('state is: ' + store.getState());  // state is: è¯»ä¹¦,é˜…è¯»,ç¡è§‰,çœ‹ç”µå½±,åˆ·ç‰™,æ´—æ¾¡
</code></pre></div><ul><li>ç›´æ¥çœ‹ä»£ç </li></ul> <div class="language- extra-class"><pre class="language-text"><code>import mapValues from '../utils/mapValues';

function bindActionCreator(actionCreator, dispatch) {
  return (...args) =&gt; dispatch(actionCreator(...args));
}

/**
 * Turns an object whose values are action creators, into an object with the
 * same keys, but with every function wrapped into a `dispatch` call so they
 * may be invoked directly. This is just a convenience method, as you can call
 * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.
 *
 * For convenience, you can also pass a single function as the first argument,
 * and get a function in return.
 *
 * @param {Function|Object} actionCreators An object whose values are action
 * creator functions. One handy way to obtain it is to use ES6 `import * as`
 * syntax. You may also pass a single function.
 *
 * @param {Function} dispatch The `dispatch` function available on your Redux
 * store.
 *
 * @returns {Function|Object} The object mimicking the original object, but with
 * every action creator wrapped into the `dispatch` call. If you passed a
 * function as `actionCreators`, the return value will also be a single
 * function.
 */
// å‡è®¾ actionCreators === {addTodo: addTodo, removeTodo: removeTodo}
// ç®€å•çš„æ¥è¯´ bindActionCreators(actionCreators, dispatch)
// æœ€åè¿”å›çš„æ˜¯:
// {
//   addTodo: function(text){
//      dispatch( actionCreators.addTodo(text) );
//   },
//   removeTodo: function(text){
//      dispatch( actionCreators.removeTodo(text) );
//   }
// }
//
//  æˆ–è€…è¯´ actionCreators === addTodo (addTodo ä¸º actionCreator)
//  æœ€åè¿”å›çš„æ˜¯
//  function() {
//     dispatch(actionCreators());
//  }
export default function bindActionCreators(actionCreators, dispatch) {
  if (typeof actionCreators === 'function') {
    return bindActionCreator(actionCreators, dispatch);
  }

  if (typeof actionCreators !== 'object' || actionCreators === null || actionCreators === undefined) {  // eslint-disable-line no-eq-null
    throw new Error(
      `bindActionCreators expected an object or a function, instead received ${actionCreators === null ? 'null' : typeof actionCreators}. ` +
      `Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?`
    );
  }

  return mapValues(actionCreators, actionCreator =&gt;
    bindActionCreator(actionCreator, dispatch)
  );
}
</code></pre></div><h2 id="äº”ã€applymiddleware-js"><a href="http://interview.poetries.top/principle-docs/react/06-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html#%E4%BA%94%E3%80%81applymiddleware-js" class="header-anchor">#</a> äº”ã€applyMiddleware.js</h2> <blockquote><p>https://github.com/reactjs/redux/blob/master/src/applyMiddleware.js</p></blockquote> <ul><li>ä¸­é—´ä»¶åº”è¯¥æ˜¯<code>redux</code>æºç é‡Œé¢æœ€ç»•çš„ä¸€éƒ¨åˆ†</li></ul> <p><strong>ä¾‹å­ï¼šredux-thunk</strong></p> <div class="language- extra-class"><pre class="language-text"><code>export default function thunkMiddleware({ dispatch, getState }) {
  return next =&gt; action =&gt;
    typeof action === 'function' ?
      action(dispatch, getState) :
      next(action);
}
//es5
function thunkMiddleware(store) {
  var dispatch = store.dispatch;
  var getState = store.getState;

  return function (next) {
    return function (action) {
      return typeof action === 'function' ? action(dispatch, getState) : next(action);
    };
  };
}
</code></pre></div><p><strong>è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼šlogger</strong></p> <ul><li>å…ˆçœ‹<code>logger</code>çš„å®ç°</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function middleware(store){
    return function(next){
        return function(action){
            return next(action);
        }
    }
}
</code></pre></div><blockquote><p>åŸºæœ¬çœ‹å‡ºä¸­é—´ä»¶å£°æ˜çš„æ¨¡ç‰ˆæ¥äº†ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚ä¸‹é¢ç»“åˆ<code>applyMiddleware</code>çš„è°ƒç”¨ï¼Œæ¥è¯´æ˜<code>store</code>ã€<code>next</code>ã€<code>action</code> å‡ ä¸ªå‚æ•°ã€‚</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>function logger(store){
    return function(next){
        return function(action){
            console.log('logger: dispatching ' + action.type);
            var result = next(action);
            console.log('logger: next state ' + result);
            return result;
        }
    }
}
</code></pre></div><p><strong>applyMiddlewareè°ƒç”¨ä¾‹å­</strong></p> <ul><li><code>applyMiddleware</code> çš„è°ƒç”¨æ–¹å¼ä¸º <code>applyMiddleware(...middlewares)(react.createStore)</code>ã€‚å…¶å®è¿™é‡Œç›´æ¥å…ˆåˆ›å»º <code>store</code>ï¼Œç„¶å<code>applyMiddleware(...middlewares)(store)</code> ä¹Ÿå¾ˆå®¹æ˜“å®ç°ç›¸åŒçš„æ•ˆæœï¼Œä¸è¿‡ä½œè€…æ˜¯æ•…æ„è¿™æ ·è®¾è®¡çš„ï¼Œä¸ºäº†é¿å…åœ¨åŒä¸€ä¸ªstoreä¸Šå¤šæ¬¡åº”ç”¨åŒä¸€ä¸ª<code>middlerware</code></li> <li>ä¸­é—´ä»¶é¡¶å±‚çš„<code>store</code>å‚æ•°ï¼Œå¹¶ä¸æ˜¯å¸¸è§„çš„<code>store</code>ï¼Œè™½ç„¶å®ƒä¹Ÿæœ‰ <code>getState</code>ã€<code>dispatch</code> ä¸¤ä¸ªæ–¹æ³•</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// ä¸Šé¢çš„storeå‚æ•°ï¼Œå…¶å®å°±æ˜¯è¿™ä¸ªå¯¹è±¡
// å…¶ä¸­ï¼Œstore ä¸ºå†…éƒ¨çš„storeï¼Œæˆ‘ä»¬åœ¨å¤–é¢ storeWithMiddleWare.dipatchçš„æ—¶å€™ï¼Œå†…éƒ¨å®ç°æ˜¯è½¬æˆ store.dispatch
// æ­¤å¤–ï¼Œå¯ä»¥çœ‹åˆ° middlewareAPI.dispatch æ–¹æ³•ï¼Œæ˜¯æœ€ç»ˆå°è£…åçš„dispatchï¼ˆåƒä¸‡æ³¨æ„ï¼Œå¦‚æœåœ¨ä¸­é—´ä»¶å†…éƒ¨ è°ƒç”¨ store.dispatchï¼Œå¯èƒ½å¯¼è‡´æ­»å¾ªç¯ ï¼‰
var middlewareAPI = {
  getState: store.getState,
  // æœ€åé¢, dispatch è¢«è¦†ç›–, å˜æˆåŒ…è£…åçš„ dispatch æ–¹æ³•
  dispatch: (action) =&gt; dispatch(action)
};
</code></pre></div><ul><li>ç¬¬äºŒå±‚çš„nextå‡½æ•°ï¼Œå…¶å®æ˜¯ä¸€ä¸ªâ€œdispatchâ€æ–¹æ³•</li> <li>storeWithMiddleWare.dispatch(action) çš„æ—¶å€™ï¼Œä¼šé¡ºåºè¿›å…¥å„ä¸ªä¸­é—´ä»¶ï¼ˆæŒ‰ç…§å®šä¹‰æ—¶çš„é¡ºåºï¼‰ã€‚ä»å½“å‰çš„ä¾‹å­æ¥çœ‹ï¼Œå¤§çº¦å¦‚ä¸‹ï¼Œå…¶å®å°±æ˜¯æŸ¯é‡ŒåŒ–å•¦</li></ul> <div class="language- extra-class"><pre class="language-text"><code>storeWithMiddleWare.dispatch(action) --&gt; logger(store)(next)(action) --&gt; timer(store)(next)(action) --&gt; store.dispatch(action)
</code></pre></div><p><strong>å®Œæ•´çš„ç¤ºä¾‹ä»£ç </strong></p> <div class="language- extra-class"><pre class="language-text"><code>function reducer(state, action){
    if(typeof state==='undefined') state = [];

    switch(action.type){
        case 'add_todo':
            return state.concat(action.text);
        default: 
            return state;
    }
}

function addTodo(text){
    return {
        type: 'add_todo',
        text: text
    };
}

// è¿™é‡Œçš„ storeï¼Œå¹¶ä¸æ˜¯ redux.createStore(reducer, initialState) å‡ºæ¥çš„ store
// è€Œæ˜¯ {getState: store.getState, dispatch: function() { store.dispatch(action); }}
// 
function logger(store){    
    //     
    return function(next){
        return function(action){
            console.log('logger: dispatching ' + action.type);
            var result = next(action);
            console.log('logger: next state ' + result);
            return result;
        }
    }
}

function timer(store){
    return function(next){
        return function(action){
            console.log('timer: dispatching ' + action.type);
            var result = next(action);
            console.log('timer: next state ' + result);
            return result;
        }
    }
}

var createStoreWidthMiddleware = redux.applyMiddleware(
    logger, 
    timer
    )(redux.createStore);

var storeWithMiddleWare = createStoreWidthMiddleware(reducer);
storeWithMiddleWare.subscribe(function(){
    console.log('subscribe: state is : ' + storeWithMiddleWare.getState());
});
console.log( storeWithMiddleWare.dispatch(addTodo('reading')) );
</code></pre></div><p><strong>æºç è§£æ</strong></p> <div class="language- extra-class"><pre class="language-text"><code>import compose from './compose';

/**
 * Creates a store enhancer that applies middleware to the dispatch method
 * of the Redux store. This is handy for a variety of tasks, such as expressing
 * asynchronous actions in a concise manner, or logging every action payload.
 *
 * See `redux-thunk` package as an example of the Redux middleware.
 *
 * Because middleware is potentially asynchronous, this should be the first
 * store enhancer in the composition chain.
 *
 * Note that each middleware will be given the `dispatch` and `getState` functions
 * as named arguments.
 *
 * @param {...Function} middlewares The middleware chain to be applied.
 * @returns {Function} A store enhancer applying the middleware.
 */
/*
  ä»è°ƒç”¨æ–¹æ³• applyMiddleware(...middlewares)(Redux.createStore) å¯ä»¥çœ‹å‡º
  next å‚æ•°å®é™…ä¸Šæ˜¯ Redux.createStore. è€Œ Redux.createStore çš„è°ƒç”¨æ–¹å¼ä¸º Redux.createStore(reducer, initialState)
  æ‰€ä»¥ applyMiddleware(...middlewares)
  1. å‚æ•°: Redux.createStore
  2. è¿”å›å€¼:ä¸€ä¸ªfunction, è·Ÿ Redux.createStore æ¥å—çš„å‚æ•°ä¸€æ ·

 */
export default function applyMiddleware(...middlewares) {
  return (next) =&gt; (reducer, initialState) =&gt; {
    // å†…éƒ¨å…ˆåˆ›å»ºä¸€ä¸ªstore (ç›¸å½“äºç›´æ¥è°ƒç”¨ Redux.createStore(reducer, initialState))
    var store = next(reducer, initialState);
    // ä¿å­˜æœ€åˆå§‹çš„store.dispatch
    var dispatch = store.dispatch;
    var chain = [];

    var middlewareAPI = {
      getState: store.getState,
      // æœ€åé¢, dispatch è¢«è¦†ç›–, å˜æˆåŒ…è£…åçš„ dispatch æ–¹æ³•
      dispatch: (action) =&gt; dispatch(action)
    };
    // è¿”å›ä¸€ä¸ªæ•°ç»„
    // è´´ä¸ªä¾‹å­åœ¨è¿™é‡Œåšå‚è€ƒ,redux-thunk
    // function thunkMiddleware(store) {
    //  var dispatch = store.dispatch;
    //  var getState = store.getState;
    //
    //  è¿™é‡Œçš„nextå…¶å®å°±æ˜¯dispatch
    //  return function (next) {
    //    return function (action) {
    //      return typeof action === 'function' ? action(dispatch, getState) : next(action);
    //    };
    //  };
    //}
    /*
      chain æ˜¯ä¸ªæ•°ç»„, å‚è€ƒä¸Šé¢çš„ middlleware (redux-thunk),å¯ä»¥çœ‹åˆ°,chainçš„æ¯ä¸ªå…ƒç´ ä¸ºå¦‚ä¸‹å½¢å¼çš„function
      å¹¶ä¸”, ä¼ å…¥çš„ store.getState ä¸ºåŸå§‹çš„ store.getState,è€Œ dispatchåˆ™æ˜¯åŒ…è£…åçš„ dispatch(ä¸æ˜¯åŸå§‹çš„store.dispatch)
      ä¼¼ä¹æ˜¯ä¸ºäº†ç¡®ä¿, åœ¨æ¯ä¸ªmiddlewareé‡Œè°ƒç”¨ dispatch(action), æœ€ç»ˆéƒ½æ˜¯ ç”¨åŸå§‹çš„ store.dispatch(action)
      é¿å… store.dispatch è¢«è¦†ç›–, å¯¼è‡´middleware é¡ºåºè°ƒç”¨çš„è¿‡ç¨‹ä¸­, store.dispatchçš„å€¼å˜åŒ– --&gt; store.dispatch è¿”å›çš„å€¼å¯èƒ½ä¼šæœ‰ä¸åŒ
      è¿èƒŒ redux çš„è®¾è®¡ç†å¿µ

      è¿™é‡Œçš„ next åˆ™ä¸º åŸå§‹çš„ store.dispatch (è§ä¸‹é¢ compose(...chain)(store.dispatch) )
      function (next) {
        return function (action) {

        }
      }
     */
    chain = middlewares.map(middleware =&gt; middleware(middlewareAPI));

    // compose(...chain)(store.dispatch) è¿”å›äº†ä¸€ä¸ªfunction
    // ä¼ªä»£ç å¦‚ä¸‹,
    // function (action) {
    //   middleware(store)(store.dispatch);
    // }
    dispatch = compose(...chain)(store.dispatch);  // ä»å³åˆ°å·¦, middleware1( middleware2( middleware3(dispatch) ) )

    // äºæ˜¯,æœ€ç»ˆè°ƒç”¨ applyMiddleware(...middlewares)(Redux.createStore)
    // è¿”å›çš„ store, getState,subscribe æ–¹æ³•éƒ½æ˜¯åŸå§‹çš„é‚£ä¸ª store.getState, store.subscribe
    // è‡³äºdispatchæ˜¯å°è£…è¿‡çš„
    return {
      ...store,
      dispatch
    };
  };
}
</code></pre></div></div> </body></html>